> 상호 작용이란 컴퓨팅 장치의 입력과 출력(input and output, I/O)이다.

> 저수준 계층에서 시작하여 하드웨어에서 소프트웨어 순으로 CPU, 운영 체제, 프로세스와 입출력 관계를 이해해보자.

# 6.1 CPU는 어떻게 입출력 작업을 처리할까?

> 장치에도 자체적인 레지스터인 장치 레지스터(device register)가 있다. 장치는 저수준 계층의 레지스터를 한데 묶은 것.

장치 레지스터는 주로 장치에 관련된 일부 정보를 저장한다.

1. 데이터를 저장하는 레지스터: 예를 들어 사용자가 키보드의 키를 누르면 그 정보는 이런 레지스터에 저장된다.

2. 제어 정보와 상태 정보를 저장하는 레지스터: 레지스터를 읽고 쓰는 작업을 이용하여 장치를 제어하거나 장치 상태를 볼 수 있다.

## 6.1.1 전문적으로 처리하기: 입출력 기계 명령어

> 입출력 구현 방법 첫 번째, 특정 입출력 기계 명령어 사용한다.

CPU처럼, 전문적으로 장치 레지스터를 읽고 쓰는 특정한 기계 명령어가 있다. 이 특정한 기계 명령어를 **입출력 명령어(input and output instruction)** 라고 하고, x86의 IN과 OUT 기계 명령어가 이에 해당한다.

> 어떤 장치 레지스터를 읽고 써야 하는지 어떻게 알 수 있을까?

메모리를 읽고 쓰는 것처럼 간단하게 장치 레지스터도 LOAD, STORE 명령어로 읽고 쓸 수 있을 것 같지만, 실행 시, 메모리인지 장치 레지스터를 읽고 쓰는 것인지 알 수 없다.

## 6.1.2 메모리 사상 입출력

> 입출력 구현 방법 두 번째, 메모리의 읽기와 쓰기 명령어를 함께 사용하지만 주소 공간의 일부분을 장치에 할당한다.

LOAD와 STORE 명령어는 메모리 주소 공간(memory address space)을 전달한다. 메모리 주소 공간과 실제 메모리 주소는 다른 개념이라는 점에 유의하자. 

CPU는 해당 주소의 데이터가 어디에서 오는지 관심을 가질 필요가 없다. 때문에 주소 공간의 일부분을 장치에 할당할 수 있다.

**실행 순서**

> 예. 주소 공간이 8비트일 때 주소 범위는 00000000~11111111 범위에 해당한다. 00000000~11101111 메모리 할당, 11110000~11111111 장치 할당

1. 내부의 하드웨어 논리가 해당 명령어가 전달하는 정보를 감지한다.
2. 주소 0xf2에서 데이터를 읽어오고자 한다.
3. 2진법으로 11110010이므로 입출력 명령어에 해당한다.

주소 공간의 일부분을 장치에 할당하여, 메모리를 읽고 쓰는 것처럼 장치를 제어하는 방법을 **메모리 사상 입출력(memory mapping input and output)** 이라고 한다.


## 6.1.3 CPU가 키보드를 읽고 쓰는 것의 본질



## 6.1.4 폴링: 계속 검사하기



## 6.1.5 배달 음식 주문과 중단 처리



## 6.1.6 인터럽트 구동식 입출력



## 6.1.7 CPU는 어떻게 인터럽트 신호를 감지할까?



## 6.1.8 인터럽트 처리와 함수 호출의 차이



## 6.1.9 중단된 프로그램의 실행 상태 저장과 복원

