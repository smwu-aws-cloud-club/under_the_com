# chap 04_9 정리 
25.05.21 update

## 04_9_1
* CPU에 레지스터 필요한 이유: 속도 
    * CPU가 메모리에 접근하는 속도는 레지스터에 접근하는 속도의 대략 100분의 1정도 -> 속도 매우 느림 
* 프로세스가 생성 -> 코드와 코드에서 사용하는 데이터는 메모리에 적재됨 -> 기계 명령어를 실행할 때 메모리 데이터를 CPU가 사용할 레지스터로 옮겨야함 
* 레지스터와 메모리는 본질적으로 차이 x -> 둘 다 정보 저장에 사용됨 
    * 레지스터의 읽기/쓰기 속도가 훨씬 빠르고 제조 비용이 훨씬 비쌈 -> 용량에 한계 존재 
    * 프로세스 실행시: CPU가 사용할때만 임시로 데이터를 레지스터에 보관, 정보를 모두 메모리에 저장 

## 04_9_2~4
### 여러 유형의 레지스터 
* 스택 포인터(stack pointer)
    * 실행 되는 모든 함수는 스택 프레임을 가짐 
    * 함수 호출 단계가 깊어질수록 스택 프레임 수도 증가 
    * 함수 호출 완료시 반대 순서로 스택 프레임 수가 줄어듦 
* 명령어 주소 레지스터(PC, Program Counter)(PC 레지스터)
    * x86에서는 IP(Instruction pointer)
    * 값은 순차적으로 증가 
    * 다음 실행할 명령어 주소 기록 
* 상태 레지스터(status register)
    * x86에서는 FLAGS 레지스터 
    * ARM에서는 application program status register 
    * 상태 정보(e.g., 자리 올림수(carry), overflow 등의 정보를 저장) 
    * CPU가 사용자 상태에서 동작하는지/커널 상태에서 동작하는지 표현 

## 04_9_5
* 상황 정보 : 레지스터에 저장된 모든 정보 
    * 저장/복원 이유: CPU가 엄격한 오름차순으로 기계 명령어를 실행하지 않기 떄문 (jump, kernel mode, ...)
* 함수 호출, 시스템 호출, 스레드 전환, 인터럽트 처리 등 모두 중첩 구조 => 스택을 이용해 처리 
    * kernel mode stack : system call 처리 시 사용 