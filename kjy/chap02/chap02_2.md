# chap 02_2 정리 
25.03.26 update

## 02_2_1 
* thread context(스레드 상황정보)
    * 스레드에 속한 스택 영역  
    * PC 레지스터 
    * 스레드 스택영역에서 stack top 위치 저장하는 스택 포인터 등.. 
* 스레드는 프로세스 주소공간에서 스택 영역을 제외한 나머지 영역을 모두 공유함 

## 02_2_2~5
* 코드 영역: 스레드 간에 공유됨 -> 어떤 함수든지 모두 스레드에 적재햐여 실행 가능
    * 특정 함수를 특정 스레드에서만 실행되도록 하는 것은 불가능 
    * read-only이기 때문에 프로그램 실행 중에는 어떤 스레드도 코드 영역 내용 변경 불가능 
* 데이터 영역: 전역변수(global) 같은 것이 저장됨 
* 힙 영역: 스레드 간 공유 리소스 
    * c/c++에서 malloc(), new 예약어로 요청하는 메모리가 이 영역에 할당됨 
    * 포인터만 획득하면 해당 포인터가 가리키는 데이터에 접근 가능 
* 스택 영역: 
    * 스레드 전용 공간이지만 실제 구현 측면에서는 엄밀히 격리된 스레드 전용 공간은 x 
        * 하나의 스레드에서 다른 스레드의 스택 프레임에서 포인터 가져올 수 있다면 해당 스레드는 다른 스레드의 스택 영역 접근 가능(읽고,쓰기)
        * 버그 발생시 오류 원인 파악이 어려움 

## 02_2_6
* 정적 링크는 종속된 모든 라이브러리가 이미 실행 파일에 포함되어 있으므로 추가적인 작업이 필요x
* 동적 링크는 실행 파일에 종속된 라이브러리의 코드, 데이터가 포함되어 있지 않기 때문에 -> 프로세스 주소 공간 중 여유 공간에 넣어야함 

## 02_2_7 
* 스레드 전용 저장소(thread local storage)
    * 저장되는 변수가 가지는 2가지 의미 
        1. 이 영역에 저장된 변수는 모든 스레드에서 접근 가능
        2. 모든 스레드가 동일한 변수에 접근하는 것처럼 보일 수 있으나, 사실 변수의 인스턴스는 각각의 스레드에 속함 -> 하나의 스레드에서 변수 값을 변경해도 다른 스레드에는 반영되지 않음 