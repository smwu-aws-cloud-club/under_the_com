# 1.2 컴파일러는 어떻게 작동하는 것일까?

## 1.2.1 컴파일러는 그저 일반적인 프로그램일 뿐, 대단하지 않다.

컴파일러는 고수준 언어를 저수준 언어로 번역하는 프로그램이다.<br>
프로그래머가 인간이 인식할 수 있는 단어로 코드를 작성하면 코드는 일반적인 텍스트 파일 형태의 파일로 저장되는데, 이를 **소스 파일**이라고 한다.<br>
이 소스 파일을 컴파일러에게 주면 컴파일러는 실행 파일을 생성한다.<br>
실행 파일에는 CPU가 직접 실행할 수 있는 기계 명령어가 작성되어 있다.<br>

## 1.2.2 각각의 토큰 추출하기
```
int a = 1; int b = 2;

while (a < b) {
    b = b - 1;
}
```
이라는 코드가 있다.<br><br>

이 코드의 ```int a = 1;``` 부분을 키워드와 추가 정보로 나누면 다음과 같다.<br>
```
T_Keyword       int
T_Identifier    a
T_Assign        =
T_Int           1
```
이렇게 각 항목에 추가로 정보를 결합한 것을 토큰이라고 부른다.<br>
소스 코드에서 토큰을 추출하는 과정을 어휘 분석, 혹은 스캐닝이라고 한다.

## 1.2.3 토큰이 표현하고자 하는 의미

컴파일러는 구문에 따라 토큰을 처리해야 한다.<br>
while 구문을 예로 들어보면, while 키워드의 토큰 뒤에는 ( 토큰 &rightarrow; bool 표현식 &rightarrow; ) 토큰이 나와 구문을 완성해야 한다.<br>
그렇지 않으면 컴파일러는 문법 오류를 보고한다.<br>
이런 과정을 해석(parsing)이라고 부른다. 또한 구문에 따라 해석해 낸 구조는 트리로 표현한다.<br>
구문 규칙에 따라 토큰을 해석한 후 트리를 생성하는 전체 과정을 **구문 분석**이라고 부른다.<br>

## 1.2.4 생성된 구문 트리에 이상은 없을까?

생성된 구문 트리에 이상이 없는지 확인하는 과정을 **의미 분석**이라고 부른다.<br>

## 1.2.5 구문 트리를 기반으로 중간 코드 생성하기

의미 분석이 끝나면 컴파일러는 구문 트리를 탐색한 결과를 바탕으로 좀 더 다듬어진 형태인 중간 코드를 생성한다.<br>
```
    a = 1
    b = 2
    goto B
A: b = b - 1
B: if a < b goto A
```

## 1.2.6 코드 생성

컴파일러는 중간 코드를 어셈블리어 코드로 변환한 뒤 기계 명령어로 변환한다.<br>
이 과정을 이미지로 표현하면 다음과 같다.<br>
![컴파일러 실행 파일 생성 과정](https://t1.daumcdn.net/cfile/tistory/25553B50569B1F4505)

컴파일 과정을 거쳐 생성된 기계 명령어 데이터는 대상 파일에 저장된다.<br>
모든 소스 파일에는 각각의 대상 파일이 있는데, 이 대상 파일을 하나의 실행 파일로 합쳐주는 **링크 작업**이 필요하다.<br>
